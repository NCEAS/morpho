#!/bin/sh
#
# Shell script for launching morpho from unix systems
#
# '$RCSfile: morpho,v $'
# '$Author: leinfelder $'
# '$Date: 2008-11-22 01:28:10 $'
# '$Revision: 1.30 $'

if ! ls $JAVA_HOME/bin/ | grep -q java; then
 echo ----------------------------------------------------------------------
 echo ----------------------------------------------------------------------
 echo ---------------------------- N O T E ---------------------------------
 echo ---- YOU MUST SET THE JAVA_HOME ENVIRONMENT VARIABLE TO POINT TO -----
 echo --- YOUR JDK OR JRE INSTALLATION DIRECTORY BEFORE RUNNING MORPHO! ----
 echo ----- Note that Morpho may not work correctly with non-SUN JVMs, -----
 echo --------------------- such as gcj or kafee. --------------------------
 echo ----------------------------------------------------------------------
 echo ----------------------------------------------------------------------
 exit
fi


CPATH=.:$JAVA_HOME/jre/lib/rt.jar
for i in $( ls ./lib/*.jar ); do
	#echo "jar file: $i"
	CPATH="$CPATH:$i"
done
echo "Using dynamic classpath: $CPATH"


echo "----------------------------------"

$JAVA_HOME/bin/java -version

echo "----------------------------------"
$JAVA_HOME/bin/java -Xmx512m -Xss1m -cp $CPATH edu.ucsb.nceas.morpho.Morpho
