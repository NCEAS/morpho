<?xml version="1.0" encoding="iso-8859-1" standalone="yes" ?>

<!-- 
	A sample installation file.
	Use it as a base for your own installers :-)
	
	To compile it :
	- go in the bin directory where you installed IzPack
	- call "compile ../sample/install.xml -b ../sample"
-->

<installation version="1.0">

	<!-- 
		The info section.
		The meaning of the tags should be natural ...
	-->
	<info>
		<appname>Morpho</appname>
		<appversion>1.6.2</appversion>
		<url>http://knb.ecoinformatics.org</url>
    <appsubpath>Mopho-1.6.2</appsubpath>
	</info> 
  	
	<!-- 
		The gui preferences indication.
		Sets the installer window to 800x600. It will not be able to change the size.
	-->
	<guiprefs width="800" height="600" resizable="no"/>
	
	<locale>
		<langpack iso3="eng"/>
	</locale>
	
	<variables>
		<variable name="DesktopShortcutCheckboxEnabled" value="true"/>
	</variables>

	<!-- 
		The resources section.
		The ids must be these ones if you want to use the LicencePanel and/or the InfoPanel.
	-->
	<resources>
		<res id="InfoPanel.info" src="README.txt"/>
		<res src="installer/build/border1.png" id="Installer.image.0"/>
		<res src="installer/build/border2.png" id="Installer.image.1"/>
		<res src="installer/build/border3.png" id="Installer.image.2"/>
		<res src="installer/build/border4.png" id="Installer.image.3"/>
		<res src="installer/build/border5.png" id="Installer.image.4"/>
		<res src="installer/build/border5.png" id="Installer.image.5"/>
		<res src="installer/build/border6.png" id="Installer.image.6"/>
		<res src="installer/build/border7.png" id="Installer.image.7"/>
		<res src="installer/build/border8.png" id="Installer.image.8"/>
		<res src="installer/build/shortcutSpec.xml" id="shortcutSpec.xml"/>
	</resources>
	
	<native type="izpack" name="ShellLink.dll"/>

	<!-- 
		The panels section.
		We indicate here which panels we want to use. The order will be respected.
	-->
	<panels>
		<panel classname="HelloPanel"/>
		<panel classname="InfoPanel"/>
		<panel classname="TargetPanel"/> 
		<panel classname="PacksPanel"/>
		<panel classname="InstallPanel"/>
		<panel classname="ShortcutPanel" os="windows"/>
		<panel classname="SimpleFinishPanel"/>
	</panels>
	
	<!-- 
		READ THIS NOTE!!
    The pack name="Base" will build an installer that will work on the mac, linux
    and windows.  However, due to bugs in IzPack, it is also very slow and
    very large.  This pack is here for the nightly build only.  The packs
    labeled "linux base", "windows base" and "mac base" should be used for
    building the individual installers for the release.  The packs for R
    can be commented or uncommented depending on whether you want to include
    R with the mac or windows.
    
    The CVS copy of this file should ALWAYS have the "xxx base" packs commented
    out and the "Base" pack uncommented.  The R packs should also be uncommented
    in the CVS copy.
    -->
	<packs>
  
    <pack name="Base" required="yes">
      <description>The base files</description>		
      			
      
			<executable targetfile="$INSTALL_PATH/lib/RemoveDotKepler.jar" type="jar" class="RemoveDotKepler" stage="postinstall" keep="true" failure="warn">
        <os family="unix"/>
      </executable>
	
			<fileset dir="" targetdir="$INSTALL_PATH/">
        <os family="unix"/>
				<exclude name="install.jar"/>
				<exclude name="src/"/>
				<exclude name="build-nmi/"/>
				<exclude name="build/classes/"/>
				<exclude name="build/configs/"/>
				<exclude name="build/icons/"/>
				<exclude name="build/src/"/>
				<exclude name="build/tmp/"/>
				<exclude name="build/kepler-configs.jar/"/>
				<exclude name="cog/"/>
				<exclude name="tests/"/>
				<exclude name="website/"/>
				<exclude name="webservice"/>
				<exclude name="lib/nddp/"/> 
				<exclude name="lib/installer"/>
				<exclude name="lib/nightlybuild/"/>
				<exclude name="website/"/>
				<exclude name="configs/nddp/"/>
				<exclude name="configs/spa/"/>
				<exclude name="lib/cplibs.bat"/>
				<exclude name="lib/setclasspath.bat"/>
				<exclude name="lib/cplibs.sh"/>
				<exclude name="demos/ENM/GARP_MultipleSpecies-V-dist2.xml"/>
				<exclude name="demos/ENM/GARP_MultipleSpecies-V-distributed.xml"/>
				<exclude name="Kepler.app/"/>
        <exclude name="R-2.6.2-osx.dmg"/>
        <exclude name="R-2.6.2-win.zip"/>
			</fileset>
      
      <executable type="bin" stage="never" targetfile="$INSTALL_PATH/kepler.sh" >
        <os family="unix"/>
      </executable>
      

      
      <file targetdir="$INSTALL_PATH/Kepler.app/Kepler/" src="lib/cplibs.sh">
        <os family="mac"/>
      </file>
			<parsable targetfile="$INSTALL_PATH/Kepler.app/Kepler/cplibs.sh">
        <os family="mac"/>
      </parsable>
			<executable targetfile="$INSTALL_PATH/Kepler.app/Kepler/cplibs.sh" stage="postinstall" keep="true" failure="warn">
        <os family="mac"/>
      </executable>
			<executable targetfile="$INSTALL_PATH/Kepler.app/Kepler/lib/RemoveDotKepler.jar" type="jar" class="RemoveDotKepler" stage="postinstall" keep="true" failure="warn">
        <os family="mac"/>
      </executable>
	
			<file src="Kepler.app" targetdir="$INSTALL_PATH">
        <os family="mac"/>
      </file>
			<fileset dir="" targetdir="$INSTALL_PATH/Kepler.app/Kepler/">
        <os family="mac"/>
				<exclude name="install.jar"/>
				<exclude name="src/"/>
				<exclude name="build-nmi/"/>
				<exclude name="build/classes/"/>
				<exclude name="build/configs/"/>
				<exclude name="build/icons/"/>
				<exclude name="build/src/"/>
				<exclude name="build/tmp/"/>
				<exclude name="build/kepler-configs.jar/"/>
				<exclude name="cog/"/>
				<exclude name="tests/"/>
				<exclude name="website/"/>
				<exclude name="webservice"/>
				<exclude name="lib/nddp/"/> 
				<exclude name="lib/installer"/>
				<exclude name="lib/nightlybuild/"/>
				<exclude name="website/"/>
				<exclude name="configs/nddp/"/>
				<exclude name="configs/spa/"/>
				<exclude name="lib/cplibs.bat"/>
				<exclude name="lib/setclasspath.bat"/>
				<exclude name="lib/cplibs.sh"/>
        <exclude name="lib/installer"/>
				<exclude name="demos/"/>
				<exclude name="Kepler.app"/>
			</fileset>
			<fileset dir="demos/" targetdir="$INSTALL_PATH/demos">
        <os family="mac"/>
				<exclude name="ENM/GARP_MultipleSpecies-V-dist2.xml"/>
				<exclude name="ENM/GARP_MultipleSpecies-V-distributed.xml"/>
			</fileset>
      

      
      <file targetdir="$INSTALL_PATH/" src="lib/cplibs.bat">
        <os family="windows"/>
      </file>
      
			<file targetdir="$INSTALL_PATH/" src="lib/setclasspath.bat">
        <os family="windows"/>
      </file>
			<parsable targetfile="$INSTALL_PATH/cplibs.bat">
        <os family="windows"/>
      </parsable>
			<parsable targetfile="$INSTALL_PATH/setclasspath.bat">
        <os family="windows"/>
      </parsable>
			<executable targetfile="$INSTALL_PATH/cplibs.bat" stage="postinstall" keep="true" failure="warn">
        <os family="windows"/>
      </executable>
			<executable targetfile="$INSTALL_PATH/lib/RemoveDotKepler.jar" type="jar" class="RemoveDotKepler" stage="postinstall" keep="true" failure="warn">
        <os family="windows"/>
      </executable>
	
			<fileset dir="" targetdir="$INSTALL_PATH/">
        <os family="windows"/>
				<exclude name="install.jar"/>
				<exclude name="src/"/>
				<exclude name="build-nmi/"/>
				<exclude name="build/classes/"/>
				<exclude name="build/configs/"/>
				<exclude name="build/icons/"/>
				<exclude name="build/src/"/>
				<exclude name="build/tmp/"/>
				<exclude name="build/kepler-configs.jar/"/>
				<exclude name="cog/"/>
				<exclude name="tests/"/>
				<exclude name="website/"/>
				<exclude name="webservice"/>
				<exclude name="lib/nddp/"/> 
				<exclude name="lib/installer"/>
				<exclude name="lib/nightlybuild/"/>
				<exclude name="website/"/>
				<exclude name="configs/nddp/"/>
				<exclude name="configs/spa/"/>
				<exclude name="lib/cplibs.bat"/>
				<exclude name="lib/setclasspath.bat"/>
				<exclude name="lib/cplibs.sh"/>
				<exclude name="demos/ENM/GARP_MultipleSpecies-V-dist2.xml"/>
				<exclude name="demos/ENM/GARP_MultipleSpecies-V-distributed.xml"/>
				<exclude name="Kepler.app"/>
			</fileset>
      
    </pack>
    <!--
    <pack name="Linux Base" required="yes" os="linux">
      <description>Linux base files.</description>
      <executable targetfile="$INSTALL_PATH/lib/RemoveDotKepler.jar" type="jar" 
                  class="RemoveDotKepler" stage="postinstall" keep="true" failure="warn"/>
	
			<fileset dir="" targetdir="$INSTALL_PATH/">
				<exclude name="install.jar"/>
        <exclude name="lib/jar/standalone-compiler.jar"/>
				<exclude name="src/"/>
				<exclude name="build-nmi/"/>
				<exclude name="build/classes/"/>
				<exclude name="build/configs/"/>
				<exclude name="build/icons/"/>
				<exclude name="build/src/"/>
				<exclude name="build/tmp/"/>
				<exclude name="build/kepler-configs.jar/"/>
				<exclude name="cog/"/>
				<exclude name="tests/"/>
				<exclude name="website/"/>
				<exclude name="webservice"/>
				<exclude name="lib/nddp/"/> 
				<exclude name="lib/installer"/>
				<exclude name="lib/nightlybuild/"/>
				<exclude name="website/"/>
				<exclude name="configs/nddp/"/>
				<exclude name="configs/spa/"/>
				<exclude name="lib/cplibs.bat"/>
				<exclude name="lib/setclasspath.bat"/>
				<exclude name="lib/cplibs.sh"/>
				<exclude name="demos/ENM/GARP_MultipleSpecies-V-dist2.xml"/>
				<exclude name="demos/ENM/GARP_MultipleSpecies-V-distributed.xml"/>
				<exclude name="Kepler.app/"/>
        <exclude name="R-2.6.2-osx.dmg"/>
        <exclude name="R-2.6.2-win.zip"/>
        <exclude name="build.xml"/>
        <exclude name="build-doc.xml"/>
        <exclude name="build-ptolemy.xml"/>
        <exclude name="build.properties"/>
        <exclude name="loaddmg.sh"/>
        <exclude name="createDemosLink.sh"/>
			</fileset>
      
      <executable type="bin" stage="never" targetfile="$INSTALL_PATH/kepler.sh" />
    </pack>-->
    
    <!--<pack name="Mac Base" required="yes" os="Mac">
      <description>Base files for the Mac</description>
      <file targetdir="$INSTALL_PATH/Kepler.app/Kepler/" src="lib/cplibs.sh"/>
			<parsable targetfile="$INSTALL_PATH/Kepler.app/Kepler/cplibs.sh"/>
			<executable targetfile="$INSTALL_PATH/Kepler.app/Kepler/cplibs.sh" 
                  stage="postinstall" keep="true" failure="warn"/>
			<executable targetfile="$INSTALL_PATH/Kepler.app/Kepler/lib/RemoveDotKepler.jar" 
                  type="jar" class="RemoveDotKepler" stage="postinstall" keep="true" 
                  failure="warn"/>
	
			<file src="Kepler.app" targetdir="$INSTALL_PATH"/>
			<fileset dir="" targetdir="$INSTALL_PATH/Kepler.app/Kepler/">
				<exclude name="install.jar"/>
				<exclude name="src/"/>
				<exclude name="build-nmi/"/>
        <exclude name="lib/jar/standalone-compiler.jar"/>
				<exclude name="build/classes/"/>
				<exclude name="build/configs/"/>
				<exclude name="build/icons/"/>
				<exclude name="build/src/"/>
				<exclude name="build/tmp/"/>
				<exclude name="build/kepler-configs.jar/"/>
				<exclude name="cog/"/>
				<exclude name="tests/"/>
				<exclude name="website/"/>
				<exclude name="webservice"/>
				<exclude name="lib/nddp/"/> 
				<exclude name="lib/installer"/>
				<exclude name="lib/nightlybuild/"/>
				<exclude name="website/"/>
				<exclude name="configs/nddp/"/>
				<exclude name="configs/spa/"/>
				<exclude name="lib/cplibs.bat"/>
				<exclude name="lib/setclasspath.bat"/>
				<exclude name="lib/cplibs.sh"/>
        <exclude name="lib/installer"/>
				<exclude name="demos/"/>
				<exclude name="Kepler.app"/>
        <exclude name="build.xml"/>
        <exclude name="build-doc.xml"/>
        <exclude name="build-ptolemy.xml"/>
        <exclude name="build.properties"/>
			</fileset>
			<fileset dir="demos/" targetdir="$INSTALL_PATH/demos" />
      <parsable targetfile="$INSTALL_PATH/Kepler.app/Kepler/createDemosLink.sh"/>
      <executable type="bin" stage="never" targetfile="$INSTALL_PATH/Kepler.app/Kepler/createDemosLink.sh" os="mac" />
      <executable type="bin" stage="postinstall" targetfile="$INSTALL_PATH/Kepler.app/Kepler/createDemosLink.sh" os="mac" failure="ask"/>
    </pack>
        
    <pack name="R (2.6.2) OSX" required="no" os="mac" id="r-2.6.2-mac">
			<description>R (2.6.2) for Mac OSX - If you choose to install this option, the R installer will be launched at the completion of the Kepler installation.</description>
			<parsable targetfile="$INSTALL_PATH/Kepler.app/Kepler/loaddmg.sh"/>
			<file targetdir="$INSTALL_PATH/Kepler.app/Kepler/" src="R-2.6.2-osx.dmg" os="mac" unpack="false"/>
			<executable type="bin" stage="never" targetfile="$INSTALL_PATH/Kepler.app/Kepler/loaddmg.sh" os="mac" />
			<executable type="bin" stage="postinstall" targetfile="$INSTALL_PATH/Kepler.app/Kepler/loaddmg.sh" os="mac" failure="ask"/>
		</pack>-->
    
		
	<!--<pack name="Windows Base" required="yes" os="Windows">
			<description>The Windows base files</description>			
			
			<file targetdir="$INSTALL_PATH/" src="lib/cplibs.bat"/>
			<file targetdir="$INSTALL_PATH/" src="lib/setclasspath.bat"/>
			<parsable targetfile="$INSTALL_PATH/cplibs.bat"/>
			<parsable targetfile="$INSTALL_PATH/setclasspath.bat"/>
			<executable targetfile="$INSTALL_PATH/cplibs.bat" stage="postinstall" keep="true" failure="warn"/>
			<executable targetfile="$INSTALL_PATH/lib/RemoveDotKepler.jar" type="jar" class="RemoveDotKepler" stage="postinstall" keep="true" failure="warn"/> 
	
			<fileset dir="" targetdir="$INSTALL_PATH/">
				<exclude name="install.jar"/>
				<exclude name="src/"/>
				<exclude name="build-nmi/"/>
        <exclude name="lib/jar/standalone-compiler.jar"/>
				<exclude name="build/classes/"/>
				<exclude name="build/configs/"/>
				<exclude name="build/icons/"/>
				<exclude name="build/src/"/>
				<exclude name="build/tmp/"/>
				<exclude name="build/kepler-configs.jar/"/>
				<exclude name="cog/"/>
				<exclude name="tests/"/>
				<exclude name="website/"/>
				<exclude name="webservice"/>
				<exclude name="lib/nddp/"/> 
				<exclude name="lib/installer"/>
				<exclude name="lib/nightlybuild/"/>
				<exclude name="website/"/>
				<exclude name="configs/nddp/"/>
				<exclude name="configs/spa/"/>
				<exclude name="lib/cplibs.bat"/>
				<exclude name="lib/setclasspath.bat"/>
				<exclude name="lib/cplibs.sh"/>
				<exclude name="Kepler.app"/>
        <exclude name="build.xml"/>
        <exclude name="build-doc.xml"/>
        <exclude name="build-ptolemy.xml"/>
        <exclude name="build.properties"/>
        <exclude name="loaddmg.sh"/>
        <exclude name="createDemosLink.sh"/>
			</fileset>
		</pack>

		<pack name="R (2.6.2) Windows" required="no" os="windows">
			<description>R (2.6.2) for Windows</description>
			<file targetdir="$INSTALL_PATH/" src="R-2.6.2-win.zip" os="windows" unpack="true"/>
		</pack>-->
    
		<pack name="Sources" required="no">
			<description>Kepler Source Files</description>
			<fileset dir="src" targetdir="$INSTALL_PATH/src">
				<exclude name="org/nddp/"/>
				<exclude name="org/monash/"/>
			</fileset>
		</pack>	 
	</packs>

</installation>
